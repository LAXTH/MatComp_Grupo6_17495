<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Planificar | Parque de las Leyendas</title>
  <link rel="stylesheet" href="public/styles/plan.css" />
</head>
<body>
  <header class="topbar">
    <h1>Guía interactiva del Parque de las Leyendas</h1>
    <nav class="tabs">
      <a href="index.html" aria-current="page">PLANIFICAR</a>
      <a href="pasos.html">PASO A PASO</a>
      <a href="matrices.html">MATRICES</a>
    </nav>
  </header>

  <main class="layout">
    <!-- Panel izquierdo -->
    <section class="panel" aria-labelledby="ttl-plan">
      <h2 id="ttl-plan">Planifica tu visita</h2>

      <form id="planner" class="form" autocomplete="off">
        <label class="field">
          <span>Nodos a usar (8–16)</span>
          <div class="inline full">
            <input id="nodeCount" type="range" min="8" max="16" step="1" value="16" />
            <output id="nodeCountOut" for="nodeCount">16</output>
          </div>
        </label>

        <div class="choice-stack">
          <label class="field compact">
            <span>Me encuentro en</span>
            <select id="origin" aria-label="Origen"></select>
          </label>
          <label class="field compact">
            <span>Quiero ir a</span>
            <select id="destination" aria-label="Destino"></select>
          </label>
        </div>

        <div class="actions">
          <button type="button" id="btnSolve" class="btn btn--primary">REPRODUCIR</button>
        </div>

        <div class="result card-soft" aria-live="polite">
          <h3>Tu ruta Óptima</h3>
          <div class="row-two-vertical">
            <div class="block-val">
              <span class="lbl">Empieza en</span>
              <span id="outStart" class="chip">–</span>
            </div>
            <div class="block-val">
              <span class="lbl">Llega a</span>
              <span id="outEnd" class="chip">–</span>
            </div>
          </div>
          <dl class="stats">
            <div><dt>Distancia</dt><dd id="outDistance">–</dd></div>
            <div><dt>Secuencia</dt><dd id="outPath">–</dd></div>
            <div><dt>Rutas óptimas (si hay empates)</dt><dd id="outAlt">–</dd></div>
          </dl>
          <button type="button" id="btnAltPath" class="btn" disabled>OTRA RUTA</button>
        </div>
      </form>
    </section>

    <!-- Panel derecho -->
    <section class="panel panel--map" aria-labelledby="ttl-map">
      <div id="ttl-map" class="panel-title">MAPA INTERACTIVO</div>

      <div class="map-toolbar">
        <div class="tools-left">
          <button type="button" id="modeAddNode" class="btn btn--toggle" aria-pressed="false">PUNTO</button>
          <button type="button" id="modeAddEdge" class="btn btn--toggle" aria-pressed="false">RUTA</button>
          <button type="button" id="modeDelete"  class="btn btn--toggle" aria-pressed="false">BORRAR</button>
        </div>
        <div class="tools-right">
          <button type="button" id="btnToggleWeights" class="btn btn--toggle" aria-pressed="true">PESOS (m)</button>
        </div>

        <div class="zoom-bar" role="group" aria-label="Zoom del mapa">
          <button type="button" id="zoomOut" class="btn btn--tiny" aria-label="Alejar">–</button>
          <input id="zoom" type="range" min="75" max="125" value="85" aria-label="Zoom (%)" />
          <button type="button" id="zoomIn" class="btn btn--tiny" aria-label="Acercar">+</button>
        </div>
      </div>

      <div class="map" id="mapHost">
        <svg id="mapSvg" class="svg" viewBox="0 0 100 70" preserveAspectRatio="xMidYMid meet" aria-label="Mapa simulado">
          <rect x="0" y="0" width="100" height="70" class="ground"></rect>
          <g id="edges"></g>
          <g id="weights"></g>
          <g id="route"></g>
          <g id="ghost"></g>
          <g id="nodes"></g>
        </svg>
      </div>

      <!-- Abajo: player a la izquierda, LIMPIAR a la derecha -->
      <div class="bottom-actions">
        <div class="player">
          <button type="button" id="btnPlay"  class="btn btn--primary">REPRODUCIR</button>
          <button type="button" id="btnPause" class="btn">PAUSA</button>
          <button type="button" id="btnReset" class="btn">REINICIAR</button>
          <span id="playerStatus" class="player__status">Listo</span>
        </div>
        <button type="button" id="btnClear" class="btn btn--huge">LIMPIAR</button>
      </div>
    </section>
  </main>

  <script src="public/scripts/plan.js"></script>
</body>
</html>